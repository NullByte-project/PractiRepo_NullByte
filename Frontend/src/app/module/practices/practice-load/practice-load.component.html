<div class="form-container">
    <h2>Cargar Nueva Práctica</h2>
    
    <form [formGroup]="practiceForm" (ngSubmit)="onSubmit()" class="practice-form">
      <!-- Mensajes de estado -->
      <div *ngIf="errorMessage" class="alert error">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert success">
        {{ successMessage }}
      </div>
  
      <!-- Campo: Título -->
      <div class="form-group">
        <label for="title">Título *</label>
        <input type="text" id="title" formControlName="title" placeholder="Ej: Práctica de laboratorio">
        <div *ngIf="practiceForm.get('title')?.invalid && practiceForm.get('title')?.touched" class="error-text">
          <span *ngIf="practiceForm.get('title')?.errors?.['required']">El título es requerido</span>
          <span *ngIf="practiceForm.get('title')?.errors?.['minlength']">Mínimo 3 caracteres</span>
        </div>
      </div>
  
      <!-- Campo: Año -->
      <div class="form-group">
        <label for="year">Año *</label>
        <input type="number" id="year" formControlName="year" min="2000">
        <div *ngIf="practiceForm.get('year')?.invalid && practiceForm.get('year')?.touched" class="error-text">
          <span *ngIf="practiceForm.get('year')?.errors?.['required']">El año es requerido</span>
          <span *ngIf="practiceForm.get('year')?.errors?.['min']">El año debe ser mayor a 2000</span>
        </div>
      </div>
  
      <!-- Campo: Tipo de Práctica -->
      <div class="form-group">
        <label for="practice_type">Tipo de Práctica *</label>
        <select id="practice_type" formControlName="practice_type">
          <option value="" disabled selected>Seleccione un tipo</option>
          <option value="Informes de práctica institucional II">Informes de práctica institucional II</option>
          <option value="Informes de proyectos de vida familiar y comunitaria I">Informes de proyectos de vida familiar y comunitaria I</option>
          <option value="Informes de proyectos de vida familiar y comunitaria II">Informes de proyectos de vida familiar y comunitaria II</option>
          <option value="Informes de proyectos de vida familiar y comunitaria III">Informes de proyectos de vida familiar y comunitaria III</option>
        </select>
        <div *ngIf="practiceForm.get('practice_type')?.invalid && practiceForm.get('practice_type')?.touched" class="error-text">
          <span *ngIf="practiceForm.get('practice_type')?.errors?.['required']">Seleccione un tipo</span>
        </div>
      </div>
  
      <!-- Campo: Institución -->
      <div class="form-group">
        <label for="institution">Institución</label>
        <input type="text" id="institution" formControlName="institution" placeholder="Ej: Universidad Nacional">
      </div>
  
      <!-- Campo: Autor -->
      <div class="form-group">
        <label for="author">Autor</label>
        <input type="text" id="author" formControlName="author" placeholder="Ej: Juan Pérez">
      </div>
  
      <!-- Campo: Municipio -->
      <div class="form-group">
        <label for="municipality">Municipio</label>
        <input type="text" id="municipality" formControlName="municipality" placeholder="Ej: Bogotá D.C.">
      </div>
  
      <!-- Campo: Archivo -->
      <div class="form-group file-upload">
        <label for="file">Documento *</label>
        <input type="file" id="file" (change)="onFileChange($event)" accept=".pdf,.doc,.docx,.xls,.xlsx">
        <div *ngIf="practiceForm.get('file')?.invalid && practiceForm.get('file')?.touched" class="error-text">
          <span *ngIf="practiceForm.get('file')?.errors?.['required']">Seleccione un archivo</span>
        </div>
        <small>Formatos aceptados: PDF</small>
      </div>
  
      <!-- Botones -->
      <div class="form-actions">
        <button type="submit" [disabled]="isLoading || practiceForm.invalid" class="submit-btn">
          <span *ngIf="!isLoading">Guardar Práctica</span>
          <span *ngIf="isLoading">Guardando...</span>
        </button>
        <button type="button" (click)="router.navigate(['/practices/list-practices'])" class="cancel-btn">Cancelar</button>
      </div>
    </form>
  </div>